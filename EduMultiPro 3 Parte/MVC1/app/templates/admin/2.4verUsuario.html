<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ver Usuario</title>
  <link rel="icon" href="{{ url_for('static', filename='img/icono.png') }}">
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet"> <!--libreria de logos-->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <link rel="stylesheet" href="{{ url_for('static', filename='1-css/2.4.css') }}">
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script> <!--permite que sangan las alertas-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg==" crossorigin="anonymous" referrerpolicy="no-referrer" /> <!--pagina para iconos-->
  <!-- jquery -->
  <script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
  <!-- datatables css y js -->
  <link href="//cdn.datatables.net/2.1.8/css/dataTables.dataTables.min.css" rel="stylesheet">
  <script src="//cdn.datatables.net/2.1.8/js/dataTables.min.js"></script>
</head>
<body>

  <div class="contenedor">
    
     <!--Nav-->
    <div class="container-fluid" id="navegador">
      <div class="row">
        <div class="col-12 col-sm-12 col-md-3 col-lg-2 col-xl-2 col-xxl-2" id="n1">

          <div class="d-flex justify-content-end my-lg-2 px-lg-4">
            <img class="img-fluid" src="{{ url_for('static', filename='img/logo.png') }}" alt="" id="img1">
          </div>
        </div>
        <div class="col-12 col-sm-12 col-md-9 col-lg-4 col-xl-4 col-xxl-4 d-flex justify-content-start align-items-center" id="n2">
            <h1 class="text-white">EduMultiPro</h1>
        </div>
        <div class="col-12 col-sm-12 col-md-12 col-lg-6 col-xl-6 col-xxl-6 d-flex justify-content-center align-items-center" id="n3">
          <div class="">
            <h3>Tu Aliado En El Camino Educativo</h3>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid" id="btn1">
        <div class="row" id="rbtn">
            <div class="btn-group d-block d-xl-none" role="group" aria-label="Button group with nested dropdown">
                <div class="btn-group" role="group">
                  <button type="button" class="btn dropdown-toggle" data-bs-toggle="dropdown" aria-expanded="false" id="abtn">
                    Opciones
                  </button>
                  <ul class="dropdown-menu">
                    <li><a class="dropdown-item" href="{{ url_for('admin_bp.usuario') }}"><i class="fa-solid fa-user"><p>Usuario</p></i></a></li>
                    <li><a class="dropdown-item" href="{{ url_for('admin_bp.curso') }}"><i class="fa-solid fa-layer-group"><p>Cursos</p></i></a></li>
                    <li><a class="dropdown-item" href="{{ url_for('admin_bp.horario') }}"><i class="fa-solid fa-calendar-days"><p>Horarios</p></i></a></li>
                    <li><a class="dropdown-item" href="{{ url_for('admin_bp.aula') }}"><i class="fa-solid fa-users-rectangle"><p>Aulas</p></i></a></li>
                    <li><a class="dropdown-item" href="{{ url_for('admin_bp.notas') }}"><i class="fa-solid fa-ranking-star"><p>Notas</p></i></a></li>
                    <li><a class="dropdown-item" href="{{ url_for('admin_bp.planillas') }}"><i class="fa-solid fa-folder-open"><p>Planillas</p></i></a></li>
                    <li><a class="dropdown-item" href="{{ url_for('admin_bp.noticia') }}"><i class="fa-solid fa-radio"><p>Noticias</p></i></a></li>
                    <li><a class="dropdown-item" href="{{ url_for('admin_bp.login') }}"><i class="fa-solid fa-right-to-bracket"><p>Salir</p></i></a></li>
                  </ul>
                </div>
            </div>
        </div>
    </div>
    <!--article-->
    <div class="container-fluid" id="centro">
        <div class="row">

            <div class="col-2 d-none d-xl-block" id="barraLateral">
                <div class="opciones">
                    <div class="menu">
                      <a href="{{ url_for('admin_bp.usuario') }}"><i class="fa-solid fa-user"><p>Usuario</p></i></a>
                      <a href="{{ url_for('admin_bp.curso') }}"><i class="fa-solid fa-layer-group"><p>Cursos</p></i></a>
                      <a href="{{ url_for('admin_bp.horario') }}"><i class="fa-solid fa-calendar-days"><p>Horarios</p></i></a>
                      <a href="{{ url_for('admin_bp.aula') }}"><i class="fa-solid fa-users-rectangle"><p>Aulas</p></i></a>
                      <a href="{{ url_for('admin_bp.notas') }}"><i class="fa-solid fa-ranking-star"><p>Notas</p></i></a>
                      <a href="{{ url_for('admin_bp.planillas') }}"><i class="fa-solid fa-folder-open"><p>Planillas</p></i></a>
                      <a href="{{ url_for('admin_bp.noticia') }}"><i class="fa-solid fa-radio"><p>Noticias</p></i></a>
                      <a href="{{ url_for('admin_bp.login') }}"><i class="fa-solid fa-right-to-bracket"><p>Salir</p></i></a> 
                    </div>
                </div>
            </div>

            <!--Tabla-->
            <div class="col-10" id="contenidoTabla">
                <div class="titulo">
                    <h1>Informacion del Usuario</h1>
                    <a href="{{ url_for('admin_bp.usuario') }}"> 
                        <button class="crear" id="btnAgregarUsuario"> <i class="fas fa-user-plus"></i>Salir</button>
                    </a>
                </div>
                <div class="contenidoTablaUsuario">
                    <table>
                        <tr>
                            <th>Identificación</th>
                            <td>{{ usuario['ID'] }}</td>
                            <th>Documento</th>
                            <td>{{ usuario.Documento }}</td>
                        </tr>
                        <tr>
                            <th>Primer Nombre</th>
                            <td>{{ usuario['Primer_Nombre'] }}</td>
                            <th>Segundo Nombre</th>
                            <td>{{ usuario['Segundo_Nombre'] }}</td>
                        </tr>
                        <tr>
                            <th>Primer Apellido</th>
                            <td>{{ usuario['Primer_Apellido'] }}</td>
                            <th>Segundo Apellido</th>
                            <td>{{ usuario['Segundo_Apellido'] }}</td>
                        </tr>
                        <tr>
                            <th>Correo1</th>
                            <td>{{ usuario.Correo1 }}</td>
                            <th>Correo 2</th>
                            <td>{{ usuario['Correo2'] }}</td>
                        </tr>
                        <tr>
                            <th>Contacto 1</th>
                            <td>{{ usuario['Contacto1'] }}</td>
                            <th>Contacto 2</th>
                            <td>{{ usuario['Contacto2'] }}</td>
                        </tr>
                        <tr>
                            <th>Fecha de Nacimiento</th>
                            <td>{{ usuario['Fecha_Nacimiento'] }}</td>
                            <th>Rol</th>
                            <td>{{ usuario.Rol }}</td>
                        </tr>
                        <tr>
                            <th>Foto</th>
                            <td>
                                {% if usuario['RutaFoto'] %}
                                    <img src="{{ url_for('static', filename='fotos/' + usuario['RutaFoto']) }}" alt="Foto de usuario" width="100">
                                {% else %}
                                    No hay foto.
                                {% endif %}
                            </td>
                        </tr>
                    </table>
                </div>
                <div class="contenidoFormulario">

                    <form method="POST" enctype="multipart/form-data" action="{{ url_for('admin_bp.actualizar_usuario') }}" id="formulario">
                        <input type="hidden" name="usuario_id" value="{{ usuario.ID }}">
                        <div class="f1">
                            <select name="documento_id" required>
                                <option value="">Documento</option>
                                {% for doc in documentos %}
                                    <option value="{{ doc.ID }}" {% if doc.ID == usuario.documento_id %}selected{% endif %}>
                                        {{ doc.Tipo_Documento }}
                                    </option>
                                {% endfor %}
                            </select>
                            <input type="text" name="Primer_Nombre" value="{{ usuario.Primer_Nombre }}" required placeholder="Primer Nombre">
                            <input type="text" name="Segundo_Nombre" value="{{ usuario.Segundo_Nombre }}" placeholder="Segundo Nombre">
                        </div>
                        <div class="f1">
                            <input type="text" name="Primer_Apellido" value="{{ usuario.Primer_Apellido }}" required placeholder="Primer Apellido">
                            <input type="text" name="Segundo_Apellido" value="{{ usuario.Segundo_Apellido }}" placeholder="Segundo Apellido">
                            <input type="email" name="Correo1" value="{{ usuario.Correo1 }}" required placeholder="Correo 1">
                        </div>
                        <div class="f1">
                            <input type="password" name="Contraseña" placeholder="Contraseña">
                            <select name="rol_id" required>
                                <option value="">Selecciona un rol</option>
                                {% for rol in roles %}
                                    <option value="{{ rol.ID }}" {% if rol.ID == usuario.rol_id %}selected{% endif %}>
                                        {{ rol.Nombre_Rol }}
                                    </option>
                                {% endfor %}
                            </select>
                            <input type="email" name="Correo2" value="{{ usuario.Correo2 }}" placeholder="Correo 2">
                        </div>

                        <h3>Otros Datos</h3>
                        <input type="text" name="Contacto1" value="{{ usuario.Contacto1 }}" required placeholder="Contacto 1">
                        <input type="text" name="Contacto2" value="{{ usuario.Contacto2 }}" placeholder="Contacto 2">
                        <input type="date" name="Fecha_Nacimiento" value="{{ usuario.Fecha_Nacimiento }}" required placeholder="Fecha Nacimiento">
                        <input type="file" name="RutaFoto">
                            {% if usuario.RutaFoto %}
                                <img src="{{ url_for('static', filename='fotos/' + usuario.RutaFoto) }}" width="100">
                            {% endif %}

                        <button type="submit">Actualizar</button>
                    </form>

                </div>
                
            </div>
        </div>
    </div>

    <!--footer-->
    <div class="container-fluid d-flex align-items-center" id="pie">
      <div class="row w-100">
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-2 col-xxl-2 d-flex justify-content-center align-items-center" id="n4"><h2>Contactos:</h2></div>
          <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-2 col-xxl-2 d-flex justify-content-center align-items-center" id="n5"><a><i class="fa-solid fa-phone "></i>+546-160000</a></div>
          <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-2 col-xxl-2 d-flex justify-content-center align-items-center" id="n6"><a target="_blank"><i class="fa-brands fa-facebook "></i>EduMultipro_08</a></div>
          <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-2 col-xxl-2 d-flex justify-content-center align-items-center" id="n7"><a target="_blank"><i class="fa-brands fa-instagram "></i>EduMultipro_08</a></div>
          <div class="col-6 col-sm-6 col-md-6 col-lg-6 col-xl-2 col-xxl-2 d-flex justify-content-center align-items-center" id="n8"><a target="_blank"><i class="fa-regular fa-envelope "></i>Edu_Pro@gmail.com</a></div>
          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-2 col-xxl-2 d-flex justify-content-center align-items-center" id="n9"><a target="_blank"><i class="fa-solid fa-globe "></i>EduMultiPro</a></div>
      </div>
    </div> 

  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
 
</body>
</html>